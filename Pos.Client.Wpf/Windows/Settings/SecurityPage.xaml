<UserControl x:Class="Pos.Client.Wpf.Windows.Settings.SecurityPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Width="800"
             MaxWidth="1000">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Header -->
            <RowDefinition Height="*"/>
            <!-- Main -->
            <RowDefinition Height="Auto"/>
            <!-- Actions -->
        </Grid.RowDefinitions>

        <!-- HEADER -->
        <DockPanel Grid.Row="0" LastChildFill="False" Margin="0,0,0,16">
            <StackPanel Orientation="Vertical" DockPanel.Dock="Left">
                <TextBlock Text="Security"
                   FontSize="18"
                   FontWeight="SemiBold"/>
                <TextBlock Text="Change your password and set a quick-access terminal PIN."
                   FontSize="12"
                   Foreground="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"
                   Margin="0,2,0,0"/>
            </StackPanel>
        </DockPanel>

        <!-- MAIN CONTENT -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- LEFT CARD: PIN + Password -->
            <Border Grid.Column="0"
              Background="#06000000"
              BorderBrush="#22000000"
              BorderThickness="1"
              CornerRadius="4"
              Padding="14"
              Margin="0,0,12,0">
                <StackPanel>

                    <!-- PIN -->
                    <TextBlock Text="PIN code"
                     FontWeight="SemiBold"
                     Margin="0,0,0,8"/>
                    <Border Background="#05000000"
                  BorderBrush="#11000000"
                  BorderThickness="1"
                  CornerRadius="4"
                  Padding="10"
                  Margin="0,0,0,12">
                        <Grid Margin="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="10"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="10"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="12"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="190"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0"
                         Text="Current password:"
                         VerticalAlignment="Center"/>
                            <PasswordBox x:Name="PinCurrentPasswordBox"
                           Grid.Row="0"
                           Grid.Column="1"
                           Width="220"
                           Height="26"/>

                            <TextBlock Grid.Row="2" Grid.Column="0"
                         Text="New PIN (4–6 digits):"
                         VerticalAlignment="Center"/>
                            <PasswordBox x:Name="NewPinBox"
                           Grid.Row="2"
                           Grid.Column="1"
                           Width="120"
                           Height="26"/>

                            <TextBlock Grid.Row="4" Grid.Column="0"
                         Text="Confirm PIN:"
                         VerticalAlignment="Center"/>
                            <PasswordBox x:Name="ConfirmPinBox"
                           Grid.Row="4"
                           Grid.Column="1"
                           Width="120"
                           Height="26"/>

                            <StackPanel Grid.Row="6" Grid.Column="1"
                          Orientation="Horizontal"
                          HorizontalAlignment="Left">
                                <Button Content="Save PIN"
                        Height="26"
                        MinWidth="110"
                        VerticalContentAlignment="Center"
                        Padding="14,6"
                        Click="SavePin_Click"/>
                                <TextBlock Text="(leave empty to clear PIN)"
                           Margin="8,0,0,0"
                           VerticalAlignment="Center"
                           Foreground="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"
                           FontSize="11"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- PASSWORD -->
                    <TextBlock Text="Password"
                     FontWeight="SemiBold"
                     Margin="0,0,0,8"/>
                    <Border Background="#05000000"
                  BorderBrush="#11000000"
                  BorderThickness="1"
                  CornerRadius="4"
                  Padding="10">
                        <Grid Margin="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="10"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="10"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="12"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="190"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0"
                         Text="Current password:"
                         VerticalAlignment="Center"/>
                            <PasswordBox x:Name="CurrentPasswordBox"
                           Grid.Row="0"
                           Grid.Column="1"
                           Width="220"
                           Height="26"/>

                            <TextBlock Grid.Row="2" Grid.Column="0"
                         Text="New password:"
                         VerticalAlignment="Center"/>
                            <PasswordBox x:Name="NewPasswordBox"
                           Grid.Row="2"
                           Grid.Column="1"
                           Width="220"
                           Height="26"/>

                            <TextBlock Grid.Row="4" Grid.Column="0"
                         Text="Confirm password:"
                         VerticalAlignment="Center"/>
                            <PasswordBox x:Name="ConfirmPasswordBox"
                           Grid.Row="4"
                           Grid.Column="1"
                           Width="220"
                           Height="26"/>

                            <StackPanel Grid.Row="6" Grid.Column="1"
                          Orientation="Horizontal"
                          HorizontalAlignment="Left">
                                <Button Content="Save Password"
                        Height="26"
                        MinWidth="130"
                        VerticalContentAlignment="Center"
                        Padding="14,6"
                        Click="SavePassword_Click"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                </StackPanel>
            </Border>

            <!-- RIGHT CARD: Guidance -->
            <Border Grid.Column="1"
              Background="#06000000"
              BorderBrush="#22000000"
              BorderThickness="1"
              CornerRadius="4"
              Padding="14">
                <StackPanel>
                    <TextBlock Text="Guidelines"
                     FontWeight="SemiBold"
                     Margin="0,0,0,8"/>
                    <TextBlock Text="• PIN is for quick terminal unlock; use 4–6 digits."
                     TextWrapping="Wrap"
                     Margin="0,0,0,4"/>
                    <TextBlock Text="• Password should be at least 8 chars, with a mix of letters, numbers, or symbols."
                     TextWrapping="Wrap"
                     Margin="0,0,0,4"/>
                    <TextBlock Text="• Keep your PIN/password private. Admins can reset credentials from the user management screen."
                     TextWrapping="Wrap"
                     Margin="0,0,0,4"/>
                </StackPanel>
            </Border>
        </Grid>

        <!-- ACTIONS (bottom note, consistent with Identity page) -->
        <DockPanel Grid.Row="2" Margin="0,16,0,0">
            <TextBlock DockPanel.Dock="Left"
                 VerticalAlignment="Center"
                 FontSize="11"
                 Foreground="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"
                 Text="Changes apply to the current user on this terminal." />
            <!-- No global Save/Reset here; each section has its own Save button -->
        </DockPanel>
    </Grid>
</UserControl>
