<Window x:Class="Pos.Client.Wpf.Windows.Admin.OutletsCountersWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Outlets - Counters" Height="540" Width="920" WindowStartupLocation="CenterOwner">
    <Grid Margin="12">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*"/>
            <ColumnDefinition Width="3*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <DockPanel Grid.Row="0" Grid.ColumnSpan="2" LastChildFill="False" Margin="0,0,0,8">
            <TextBlock Text="Outlets - Counters" FontSize="18" FontWeight="SemiBold" VerticalAlignment="Center"/>
            <StackPanel Orientation="Horizontal" DockPanel.Dock="Right" >
                <Button Content="Refresh" Margin="8,0,0,0" Click="Refresh_Click"  Style="{StaticResource Btn.GlobalPrimary}"/>
            </StackPanel>
        </DockPanel>

        <!-- Outlets -->
        <GroupBox Grid.Row="1" Grid.Column="0" Header="Outlets" Margin="0,0,8,0">
            <DockPanel>
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" Margin="0,0,0,6">
                    <Button Content="Add" Click="AddOutlet_Click" Margin="0,0,6,0"  Width="80" Style="{StaticResource Btn.GlobalPrimary}"/>
                    <Button Content="Edit" Click="EditOutlet_Click" Margin="0,0,6,0"  Width="80" Style="{StaticResource Btn.GlobalPrimary}"/>
                    <Button Content="Delete" Click="DeleteOutlet_Click"  Width="80" Style="{StaticResource Btn.GlobalPrimary}"/>
                </StackPanel>
                <DataGrid x:Name="OutletsGrid" AutoGenerateColumns="False" IsReadOnly="True"
                          SelectionChanged="OutletsGrid_SelectionChanged"  FontSize="16" FontWeight="DemiBold">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Code" Binding="{Binding Code}" Width="80"/>
                        <DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="*"/>
                        <DataGridCheckBoxColumn Header="Active" Binding="{Binding IsActive}" Width="70"/>
                        <DataGridTextColumn Header="Address" Binding="{Binding Address}" Width="2*"/>
                    </DataGrid.Columns>
                </DataGrid>
            </DockPanel>
        </GroupBox>

        <!-- Counters -->
        <!-- Counters -->
        <GroupBox Grid.Row="1" Grid.Column="1" Header="Counters (of selected Outlet)">
            <DockPanel>
                <!-- TOOLBAR -->
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" Margin="0,0,0,6">
                    <Button Content="Add" Click="AddCounter_Click" Margin="0,0,6,0"  Style="{StaticResource Btn.GlobalPrimary}"/>
                    <Button Content="Edit" Click="EditCounter_Click" Margin="0,0,6,0"  Style="{StaticResource Btn.GlobalPrimary}"/>
                    <Button Content="Delete" Click="DeleteCounter_Click" Margin="0,0,6,0"  Style="{StaticResource Btn.GlobalPrimary}"/>

                    <!-- NEW: Assign / Unassign This PC -->
                    <Separator Width="8" />
                    <Button Content="Assign This PC"
                        Click="AssignThisPc_Click"
                        Margin="0,0,6,0"
                        ToolTip="Bind this machine to the selected counter"  Style="{StaticResource Btn.GlobalPrimary}"/>
                    <Button Content="Unassign This PC"
                        Click="UnassignThisPc_Click"
                        ToolTip="Remove this machine's binding (free the counter)" Style="{StaticResource Btn.GlobalPrimary}"/>
                </StackPanel>

                <!-- GRID -->
                <DataGrid x:Name="CountersGrid" AutoGenerateColumns="False" IsReadOnly="True"  FontSize="16" FontWeight="DemiBold">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Counter" Binding="{Binding Name}" Width="*"/>
                        <DataGridCheckBoxColumn Header="Active" Binding="{Binding IsActive}" Width="70"/>
                        <DataGridTextColumn Header="Assigned To" Binding="{Binding AssignedTo}" Width="*"/>
                    </DataGrid.Columns>
                </DataGrid>
            </DockPanel>
        </GroupBox>

    </Grid>
</Window>
